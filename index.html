<!DOCTYPE html>
<html>
<head><!-- hexo injector head_begin start --><script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script><!-- hexo injector head_begin end -->
  <meta charset="utf-8">
  
  
  <title>语之屋</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="语之屋">
<meta property="og:url" content="https://blog-youyu.fun/index.html">
<meta property="og:site_name" content="语之屋">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="公子语">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="语之屋" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">语之屋</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog-youyu.fun"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2025-03-22 怀旧" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/26096.html" class="article-date">
  <time class="dt-published" datetime="2025-03-22T13:26:32.000Z" itemprop="datePublished">2025-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%BF%BD%E6%B1%82%E6%9C%AC%E6%88%91/">追求本我</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/26096.html">怀旧</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/26096.html" data-id="cm8k8w8nx0000jg7m07go2azv" data-title="怀旧" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2025-01-01-2024-年度总结" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/38883.html" class="article-date">
  <time class="dt-published" datetime="2025-01-01T14:57:48.000Z" itemprop="datePublished">2025-01-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%BF%BD%E6%B1%82%E6%9C%AC%E6%88%91/">追求本我</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/38883.html">2024 年度总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>今年的年度总结也是一拖再拖，本来想着在冬至发布，又拖到了圣诞节，直到做完，依然没动笔写。</p>
<p>今年没看到什么合适的1模板，就依然沿用去年的年终总结模板吧。</p>
<h1 id="健康-锻炼"><a href="#健康-锻炼" class="headerlink" title="健康&#x2F;锻炼"></a>健康&#x2F;锻炼</h1><p>今年运动是几年来最少的，年初的时候会不时来一次有氧拳击，工作以后时间变少，我也不怎么再原意做运动，有一次尝试做有氧拳击只是十分钟就气喘吁吁；这两天尝试着平板支撑也就只能是十几秒一次。</p>
<p>今年暂时定下一个小目标，以2~3公里一次的短跑，跑足120公里。</p>
<h1 id="工作与职业"><a href="#工作与职业" class="headerlink" title="工作与职业"></a>工作与职业</h1><p>终于毕业了，我今年以工作了两份工作，第一份延续去年的实习生工作，直到后来发生了两件事，一是毕业设计过于懈怠，老师开始催促我回学校去做，另一个是老板说让我开始做销售相关的工作。</p>
<p>那天早上心情有不太好，索性辞职回学校去搞毕业设计了。</p>
<p>六月初，班主任开始催促我找工作，给我介绍了宁波和余杭的两家公司，结果都不太好，后来在学校附近找到了一个也算熟悉的公司，先做机械设计，后来转到产品选型的工作，还是又走到了偏销售的路上，唉。</p>
<h1 id="个人生活与家庭"><a href="#个人生活与家庭" class="headerlink" title="个人生活与家庭"></a>个人生活与家庭</h1><p>今年家里最大的变化是姐姐结婚了，开始和姐夫在成立住。</p>
<p>我的生活变得规律起来，日复一日的工作，不时的思考自己是不是像一个上了发条的机器，还是在思考自己做一些税后收入的项目。</p>
<p>人总是想得多，做出来的却很少，我一直以为自己工作了，赚了钱就是独当一面了，现在看来完全不是，自己想要在某一领域独当一面还远远不够。</p>
<h1 id="学习和知识管理"><a href="#学习和知识管理" class="headerlink" title="学习和知识管理"></a>学习和知识管理</h1><p>今年学习的内容主要在以下方面：</p>
<ul>
<li><p>工作</p>
<ul>
<li>学了一段时间有关机械设计的内容，像是SW、CAD；</li>
<li>后面做技术选型，开始着重学习和公司业务相关的东西，总觉得和技术渐行渐远，偏想了商务。</li>
</ul>
</li>
<li><p>编程</p>
<ul>
<li>自从对 tk 比较熟悉之后，我开始不满足它的性能，学习 PySide6、Flet，开始做自己的程序，时不时的和 Tisal 聊一聊彼此学习到的新技术；</li>
<li>有一天写完了语书摘得而程序后，跑去和春水碧于天大佬献宝，他和我讲了现在谷歌跨平台的新技术，Compose开发安卓程序，我再了解一下很惊喜，又开始学习Android开发；</li>
<li>朋友问我，能不能搞一个语音芯片，我学了一些 Arduino 相关的内容，但他们做事拖拖拉拉，我也没了继续往下搞得动力，等后虚的计划出来了，再继续学习吧。</li>
</ul>
</li>
</ul>
<h1 id="旅游与文化"><a href="#旅游与文化" class="headerlink" title="旅游与文化"></a>旅游与文化</h1><h2 id="旅游"><a href="#旅游" class="headerlink" title="旅游"></a>旅游</h2><p>今年在姐姐的赞助下，买了一台佳能600d相机，婚礼时带回家去拍照，拍了许多。</p>
<p>今年没有出去玩过，回了两次家、八月朋友来杭州，去了次西湖、灵隐、第二次爬飞来峰这座小山峰、去西溪湿地坐了一次摇橹船（好无聊啊）、国庆时跑了一次义乌的商品城。</p>
<h2 id="影视"><a href="#影视" class="headerlink" title="影视"></a>影视</h2><p>今年记录的影视合计是 39 部，其中评价为 10 分的五部：</p>
<ul>
<li><p>电影：</p>
<ul>
<li>《当幸福来敲门》</li>
<li>《情书》</li>
<li>《星际穿越》</li>
<li>《一九四二》</li>
</ul>
</li>
<li><p>电视剧：</p>
<ul>
<li>《山花烂漫时》</li>
</ul>
</li>
</ul>
<p>评价为 9 分的一共是 7 部，但是因为自身的评价标准变化，其中一部分觉得现在再评分会有很大的变化，就不再列出。</p>
<p>今年唯一一个打出1星的时柯南剧场版《黑铁的鱼影》，那天我气愤的评价，这个IP算是完蛋了，从此不再看任何柯南的剧情。有一天在 Green Party 看到一个周边手账，最终间是四个人，毛利兰、新一分立两侧，中间是小哀和柯南，我只能感叹，官方搞 NTR 最无解了。</p>
<h2 id="图书"><a href="#图书" class="headerlink" title="图书"></a>图书</h2><p>今年《纸间书摘》年度书单报告是 15 本书，其实不止，但基本都是网络小说，或是推理小说，还看了一本余华的散文。</p>
<p>最喜欢的一本是凑家苗的《告白》，我不算是认真看的这本书，摸鱼时随便看一部分，直到结局突然给了我一个惊喜。最后给它的评价是不错的消遣。</p>
<h1 id="兴趣和创造"><a href="#兴趣和创造" class="headerlink" title="兴趣和创造"></a>兴趣和创造</h1><p>今年的兴趣主要在编程和游戏商，买了一些游戏，Steam年度汇报的游戏时间也在变长，时不时的玩一玩Switch上面的游戏。</p>
<p>今年主要玩的有：</p>
<ul>
<li>缺氧：玩起来很喜欢，一口气打了很久，毕业后再启动就总觉得时间很紧破了，命名之前也都是一次最多一个多小时</li>
<li>逃出生天 &amp; 链在一起：这两个游戏都挺好玩的，就是选择队友要慎重，我有惨痛的教训。最后都没有通关，只能说游戏体验很差，最后也都没有通关。</li>
<li>黑神话悟空：太难了，我还在虎先锋面前跪着（大哭）。</li>
<li>地平线 5：刚刚开始玩，最终也免不了陷入车枪球的坑。</li>
<li>塞尔达传说-智慧的再现：公主一出手，就知道什么勇者林克，通通闪一边去；我是属于玩不进去王泪、野炊的人，但是智慧的再现、缩小帽这种游戏真的很戳我，独立游戏给满分好吧。</li>
<li>宝可梦·朱：其实大部分的剧情都是在模拟器上玩的，可以追溯到23年年初，今年主要是玩了《碧之假面》，DLC的下部还没体验多少。</li>
<li>逆转裁判456~王逆袭精选集：玩了4和5，第六步实在是太长了就没有打完，其实还可以，就是实在是太长了，而且不知道是不因为有成步堂在兜底，总感觉像是在过家家（吐槽一下人名翻译，感觉开始为了谐音而翻译了）。</li>
<li>逆转检视12：以前在nds模拟器上玩过两章，最近开始重玩，刚刚打到早期的御剑、系锯刑警刚结识的时候也很有趣。</li>
</ul>
<h1 id="情绪-精神状态"><a href="#情绪-精神状态" class="headerlink" title="情绪&amp;精神状态"></a>情绪&amp;精神状态</h1><p>今年的情绪依然是偏于下行的，主要是工作的调动，环境的变化让我开始不再喜欢现在的工作，总是不时的看一看BOSS的工作。</p>
<h1 id="财务总结"><a href="#财务总结" class="headerlink" title="财务总结"></a>财务总结</h1><p>被苹果Pay坑走了一笔巨款，有剁手买了一个FydeTab Duo（一个半成品平板，价格高昂。最后也没能省下什么钱，还是等明年申请政府补贴吧。</p>
<h1 id="最骄傲的成就"><a href="#最骄傲的成就" class="headerlink" title="最骄傲的成就"></a>最骄傲的成就</h1><p>今年和 Tisal 关系有变得更好；</p>
<p>完成了语书摘的第二版开发；</p>
<p>开始学习安卓。</p>
<h1 id="最大的挑战"><a href="#最大的挑战" class="headerlink" title="最大的挑战"></a>最大的挑战</h1><p>顺利完成我的工作。</p>
<h1 id="25-年的规划"><a href="#25-年的规划" class="headerlink" title="25 年的规划"></a>25 年的规划</h1><h2 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h2><p>今年还是继续学习，第一个就是把待办软件写好，这个程序是为了自己写的，所以有一些个性化的需求（只是开发一个程序怎么这么困难，好多东西都要去调研，自己还没人可以问都是怎么实现的，有时候问AI都不知道怎样去提问。</p>
<h2 id="消费"><a href="#消费" class="headerlink" title="消费"></a>消费</h2><p>做了一个规划，今年可以攒钱买一辆车，可以代步就行，练一练用车能力。</p>
<h2 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h2><p>还是想试试找一个更加喜欢的工作，当下状态还是有成长，但用处不大，离了公司这些技能毫无用处。</p>
<h2 id="创业"><a href="#创业" class="headerlink" title="创业"></a>创业</h2><p>继续思考创业想法，今年能落实一项即可。</p>
<h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>时间有限，今日就写这么多吧。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/38883.html" data-id="cm5v6ld4i00093s7mbxb7go78" data-title="2024 年度总结" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-2024-12-20-国际化开发的经验" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/40903.html" class="article-date">
  <time class="dt-published" datetime="2024-12-20T14:22:36.000Z" itemprop="datePublished">2024-12-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/40903.html">国际化开发的经验</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>耗时一个晚上，从七点到十点终于研究差不多了，开始写总结。</p>
<p>Python中自带一个进行多语言翻译的模块，名字是<code>gettext</code>，我在<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1mfDGYUEWg?vd_source=c1ae0bc3baaf065c2c5af0668d76a361&amp;spm_id_from=333.788.videopod.episodes">哔哩哔哩</a>和博客中搜到了很多关于它的使用教程，但很繁琐，还要用到一个不怎么好用的开源程序<a target="_blank" rel="noopener" href="http://www.eazypo.ca/">easypo</a>或是需要付费的<a target="_blank" rel="noopener" href="https://poedit.net/">poedit</a>，事实上后者会好用一些，但并没有减轻我开发的繁琐程度，于是研究了一下怎么用Python程序自动化这一过程，我发现了模块<a target="_blank" rel="noopener" href="https://babel.pocoo.org/en/latest/index.html">babel</a>。</p>
<p>关于<code>gettext</code>的基本使用参考上一段的哔哩哔哩链接，本篇文章重点不在于此。</p>
<iframe src="https://player.bilibili.com/player.html?bvid=BV1mfDGYUEWg&amp;page=1&amp;high_quality=1&amp;as_wide=1&amp;allowfullscreen=true&amp;autoplay=0&amp;isOutside=true&amp;aid=113434515538875&amp;cid=26638093037&amp;p=1" data-src="//player.bilibili.com/player.html?isOutside=true&amp;aid=113434515538875&amp;bvid=BV1mfDGYUEWg&amp;cid=26638093037&amp;p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" sandbox="allow-top-navigation-by-user-activation allow-same-origin allow-forms allow-scripts allow-popups" style="height: "100%"; width: 100%";"></iframe>


<h1 id="babel-介绍"><a href="#babel-介绍" class="headerlink" title="babel 介绍"></a>babel 介绍</h1><p>他的自我介绍是：Babel 是一个用于国际化 Python 应用的工具集合。</p>
<p>它的功能有：</p>
<ul>
<li>用于构建和使用 <code>gettext</code> 消息目录</li>
<li>用于 CLDR（通用区域数据存储库）的 Python 接口，提供对各种区域显示名称、本地化数字和日期格式等的访问。</li>
</ul>
<p>我主要使用第一个功能，后面的视程序开发进度决定。</p>
<h1 id="我的自动化程序及使用方式"><a href="#我的自动化程序及使用方式" class="headerlink" title="我的自动化程序及使用方式"></a>我的自动化程序及使用方式</h1><h2 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h2><p><code>./babel_use.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置变量</span></span><br><span class="line">POT_FILE = <span class="string">&#x27;messages.pot&#x27;</span></span><br><span class="line">LOCALES_DIR = <span class="string">&#x27;locales&#x27;</span></span><br><span class="line">SRC_DIR = <span class="string">&#x27;src&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_command</span>(<span class="params">command</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;运行系统命令&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        subprocess.check_call(command, shell=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;执行时出错 <span class="subst">&#123;<span class="string">&#x27; &#x27;</span>.join(command)&#125;</span>: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_babel_cfg</span>():</span><br><span class="line"></span><br><span class="line">    command = <span class="string">f&quot;pybabel extract -F babel.cfg -o messages.pot .&quot;</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">extract_pot_file</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;提取可翻译的文本生成.pot文件&quot;&quot;&quot;</span></span><br><span class="line">    command = <span class="string">f&quot;pybabel extract -F babel.cfg -o <span class="subst">&#123;POT_FILE&#125;</span> <span class="subst">&#123;SRC_DIR&#125;</span>&quot;</span></span><br><span class="line">    run_command(command)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_po_file</span>(<span class="params">lang_code</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;初始化翻译文件生成.po文件&quot;&quot;&quot;</span></span><br><span class="line">    po_file = os.path.join(LOCALES_DIR, lang_code, <span class="string">&#x27;LC_MESSAGES&#x27;</span>, <span class="string">&#x27;messages.po&#x27;</span>)</span><br><span class="line">    command = <span class="string">f&quot;pybabel init -i <span class="subst">&#123;POT_FILE&#125;</span> -d <span class="subst">&#123;LOCALES_DIR&#125;</span> -l <span class="subst">&#123;lang_code&#125;</span>&quot;</span></span><br><span class="line">    run_command(command)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_po_files</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;更新翻译文件&quot;&quot;&quot;</span></span><br><span class="line">    command = <span class="string">f&quot;pybabel update -i <span class="subst">&#123;POT_FILE&#125;</span> -d <span class="subst">&#123;LOCALES_DIR&#125;</span>&quot;</span></span><br><span class="line">    run_command(command)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compile_po_files</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;编译.po文件生成.mo文件&quot;&quot;&quot;</span></span><br><span class="line">    command = <span class="string">f&quot;pybabel compile -d <span class="subst">&#123;LOCALES_DIR&#125;</span>&quot;</span></span><br><span class="line">    run_command(command)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># 提取.pot文件</span></span><br><span class="line">    extract_pot_file()</span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># # 初始化.po文件，这里以中文为例</span></span><br><span class="line">    <span class="comment"># init_po_file(&#x27;zh_CN&#x27;)</span></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># 更新.po文件</span></span><br><span class="line">    update_po_files()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 编译.po文件</span></span><br><span class="line">    compile_po_files()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h2 id="程序文件的树结构"><a href="#程序文件的树结构" class="headerlink" title="程序文件的树结构"></a>程序文件的树结构</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root:.</span><br><span class="line">│   babel.cfg</span><br><span class="line">│   babel_use.py</span><br><span class="line">│             </span><br><span class="line">├──src</span><br><span class="line">   │   main.py</span><br><span class="line">   │   setup.py</span><br><span class="line">   │</span><br><span class="line">   ├───assets</span><br><span class="line">   │   └───dark_ui</span><br><span class="line">   │</span><br><span class="line">   ├───functions</span><br><span class="line">   └───uis</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其中，src文件夹放置应用的主要程序，所有的<code>_()</code>都在里面。</p>
<h2 id="程序初始化"><a href="#程序初始化" class="headerlink" title="程序初始化"></a>程序初始化</h2><p>第一次运行时，需要生成相应的po语言模块，调用函数的顺序为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提取.pot文件</span></span><br><span class="line">extract_pot_file()</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 初始化.po文件，这里以中文为例</span></span><br><span class="line">init_po_file(<span class="string">&#x27;zh_CN&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>生成po文件后到<code>locales/zh_CN/LC_MESSAGES/messages.po</code>进行自己的翻译工作，翻译完成后构建mo文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 编译.po文件</span></span><br><span class="line">compile_po_files()</span><br></pre></td></tr></table></figure>

<h2 id="翻译文件更新"><a href="#翻译文件更新" class="headerlink" title="翻译文件更新"></a>翻译文件更新</h2><p>当程序内的字符串发生了变化，需要冲洗进行提取.pot文件，不需要冲洗生成po文件，而是使用更新原始po文件的命令（这样不会丢失以前的翻译好的文件）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提取.pot文件</span></span><br><span class="line">extract_pot_file()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新.po文件</span></span><br><span class="line">update_po_files()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>进行更新后的字符串的翻译，完成后编译为po文件，大功告成。</p>
<h2 id="程序运行结束后的树结构"><a href="#程序运行结束后的树结构" class="headerlink" title="程序运行结束后的树结构"></a>程序运行结束后的树结构</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">root:.</span><br><span class="line">│   babel.cfg</span><br><span class="line">│   babel_use.py</span><br><span class="line">│   messages.pot</span><br><span class="line">│   </span><br><span class="line">│         </span><br><span class="line">├───locales</span><br><span class="line">│   └───zh_CN</span><br><span class="line">│       └───LC_MESSAGES</span><br><span class="line">│               messages.mo</span><br><span class="line">│               messages.po</span><br><span class="line">│             </span><br><span class="line">├───src</span><br><span class="line">│   │   main.py</span><br><span class="line">│   │   setup.py</span><br><span class="line">│   │</span><br><span class="line">│   ├───assets</span><br><span class="line">│   │   └───dark_ui</span><br><span class="line">│   │</span><br><span class="line">│   ├───functions</span><br><span class="line">│   └───uis</span><br><span class="line"></span><br><span class="line">└───__pycache__</span><br></pre></td></tr></table></figure>

<h1 id="一些有的没的"><a href="#一些有的没的" class="headerlink" title="一些有的没的"></a>一些有的没的</h1><h1 id="在powersheel中展示树结构："><a href="#在powersheel中展示树结构：" class="headerlink" title="在powersheel中展示树结构："></a>在<code>powersheel</code>中展示树结构：</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree /f</span><br></pre></td></tr></table></figure>

<h3 id="视频链接参数"><a href="#视频链接参数" class="headerlink" title="视频链接参数"></a>视频链接参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>high_quality</td>
<td>1 最高画质 0 最低画质</td>
<td></td>
</tr>
<tr>
<td>danmaku</td>
<td>1 打开弹幕 0 关闭弹幕</td>
<td></td>
</tr>
<tr>
<td>autoplay</td>
<td>1 打开自动播放 0 关闭自动播放</td>
<td></td>
</tr>
</tbody></table>
<h3 id="iframe-参数"><a href="#iframe-参数" class="headerlink" title="iframe 参数"></a>iframe 参数</h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>allowfullscreen</td>
<td>true 允许全屏 false 不允许</td>
</tr>
<tr>
<td>sandbox</td>
<td>allow-top-navigation allow-same-origin allow-forms allow-scripts 禁止弹出</td>
</tr>
<tr>
<td>width</td>
<td>宽度</td>
</tr>
<tr>
<td>height</td>
<td>高度</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/40903.html" data-id="cm5v6ld4l000e3s7m9r10a3bn" data-title="国际化开发的经验" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2024-12-06-节气之歌-大雪" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/60445.html" class="article-date">
  <time class="dt-published" datetime="2024-12-06T14:19:01.000Z" itemprop="datePublished">2024-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%BD%95%E4%B8%8D%E7%9C%8B%E4%B8%96%E7%95%8C/">何不看世界</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/60445.html">节气之歌-大雪</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="时间的刻度"><a href="#时间的刻度" class="headerlink" title="时间的刻度"></a>时间的刻度</h1><p>早上在出门的路口遇到一个小女孩坐在妈妈的电动车后座，背着一个小轮胎样式的书包。<br>路面看起来有些潮湿，杭州的冬季总是这样，伴随着冷雨，比大雪落在身上还要让人心烦。<br>临近立昂时，非机动车道上的多出了一些积水，见证着昨晚发生的变化；说起变化，普洛斯门前因为修路而挖开的几个方块也在一日之间消失得无影无踪，留下几个凹凸不平的沥青缝隙，诉说着自己也曾经来到这世界上。<br>我开始越发频繁的看着Boss上的工作邀请，工业工程或是互联网，仿佛回到了最开始，还没毕业的那段时间，在不同的机会之间反复横跳的样子。<br>我和同事的关系逐渐熟络，和公司的关系却日渐疏远，把一切不开心都怪罪给那天的调整以及徐总两次拒绝我希望到IE部门的申请上。</p>
<p>有一天领导过来说我们部门不够努力，于是变成了周六强制加班，安慰自己说好赖也是有加班费的，实施的第三周以后开始越来越累，上四休三成了新的执念。星期二的早上，睁开眼睛就是疲惫，我越来越舍不得晚上的时间，久久不肯入睡，和领导说不想上班，在家里休息了一天，总是觉得时不我待，待在家里也没有闲下来。<br>上班的路上有一个红绿灯，在街角等待的间隙，我瞥见对面路边的树已经黄了大半，虽然风不大，却吹落一片片的叶子，金黄的叶子雨散落，不知道路对面的人在想什么，我的确很开心。<br>我和纯说，看那边的树叶落下了，纯说你看身后。这才看到身后的桥上，路边，也是一片片的叶子簌簌掉落，不同的是这里的叶子多了许多红枫，交杂着。<br>今日“大雪”，纯和我说，周六可不可以不值班，一起去九溪烟树看落叶吧，杭州的冬天真叫人哑口无言。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/60445.html" data-id="cm5v6ld4h00073s7m02dvcwc8" data-title="节气之歌-大雪" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%9C%8B%E4%B8%96%E7%95%8C/" rel="tag">看世界</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-近况和未来一段时间的展望" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/22044.html" class="article-date">
  <time class="dt-published" datetime="2024-12-01T14:51:55.000Z" itemprop="datePublished">2024-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%BF%BD%E6%B1%82%E6%9C%AC%E6%88%91/">追求本我</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/22044.html">近况和未来一段时间的展望</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <blockquote>
<p>最近一段时间，技术切换比较频繁。</p>
</blockquote>
<h2 id="Arduino"><a href="#Arduino" class="headerlink" title="Arduino"></a>Arduino</h2><p>十月末开始，有一位打游戏的搭子找到了我，说是有一些想法，开始研究一些关于嵌入式的东西，搞来了一些arduino、tft屏幕、语音芯片之类的小玩应，以前我在宿舍的时候，曾经看到过我的大学室友学习这些东西；但一切从零开始不是一件容易的事情，我研究了几次不得要领，二搭子也开始忙碌，我便请教了一位校园里的朋友帮我继续这件事，明天或许要再进行一些沟通。</p>
<h2 id="PySide6"><a href="#PySide6" class="headerlink" title="PySide6"></a>PySide6</h2><p>《纸间书摘》对应程序的开发已经完成，我的用户很给力，上线后立刻给予了第一份捐赠，我想这个程序也就到此为止了，毕竟没什么宣传渠道。</p>
<h2 id="Compose"><a href="#Compose" class="headerlink" title="Compose"></a>Compose</h2><p>结束了Python开发，工作中心正式到了安卓上，昨天下午加班结束后，开始在公司摸鱼学习一份新的技术，compose，相比于以往的《第一行代码》，谷歌的教程更加的让人心动，它实在是太优雅了，但可惜第二章之后这样优秀的教程似乎就结束了，后面的部分还要找一些其他的教程来学习。</p>
<p>学习中，我的新项目《语待办》也可以一起做起来了，语待办命运多舛，我为了他思考过PySide6、Flet、Flutter这些不同的技术方案，都觉得差点意思，现在真心觉得Compose是一个很好的方案。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/22044.html" data-id="cm5v6ld54002b3s7m1pcge29k" data-title="近况和未来一段时间的展望" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%A8%E8%AE%B0/" rel="tag">周记</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-笔记-SSH-配置" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/14641.html" class="article-date">
  <time class="dt-published" datetime="2024-12-01T14:27:38.000Z" itemprop="datePublished">2024-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/14641.html">笔记-SSH 配置</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>记录关于ssh链接到github的命令。</p>
<h1 id="前置教程"><a href="#前置教程" class="headerlink" title="前置教程"></a>前置教程</h1><p><a target="_blank" rel="noopener" href="https://childeyouyu.github.io/posts/ea40.html">在windows上安装scoop</a>。</p>
<h1 id="正式开始"><a href="#正式开始" class="headerlink" title="正式开始"></a>正式开始</h1><ol>
<li><p>安装git</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scoop install git</span><br></pre></td></tr></table></figure></li>
<li><p>生成ssh key</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;xxx@xxx.com&quot;</span></span><br></pre></td></tr></table></figure>

<p> 替换自己的邮箱地址，回车直到结束。</p>
</li>
<li><p>将公钥添加到github<br> <img src="https://pic2.ziyuan.wang/user/Knoll9337/2024/12/1733058459501_17959a0a0cd5d.png" alt="1733058459501.png"></p>
</li>
<li><p>验证是否成功</p>
 <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/14641.html" data-id="cm5v6ld5200253s7m4759gz8p" data-title="笔记-SSH 配置" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-最近的变化" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/25708.html" class="article-date">
  <time class="dt-published" datetime="2024-11-26T13:52:33.000Z" itemprop="datePublished">2024-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E4%BD%95%E4%B8%8D%E7%9C%8B%E4%B8%96%E7%95%8C/">何不看世界</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/25708.html">最近的变化</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>最近给自己规划了许多小软件，不久之前纸间书摘的用户找到我希望可以更新三月时写的一个程序，花费了两个星期一边学习PySide6,一边完善了软件的功能，很开心。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/25708.html" data-id="cm5v6ld4z001s3s7m72rza5nq" data-title="最近的变化" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-PySide6开发日记（二）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/23589.html" class="article-date">
  <time class="dt-published" datetime="2024-11-21T14:07:49.000Z" itemprop="datePublished">2024-11-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/23589.html">PySide6开发日记（二）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="笔记二-富文本格式"><a href="#笔记二-富文本格式" class="headerlink" title="笔记二 富文本格式"></a>笔记二 富文本格式</h1><p>关于设置文字自动换行以及问题：纯数字时自动换行不起作用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置文字为富文本格式，字体大小16pt</span></span><br><span class="line">book_name_label = QLabel(</span><br><span class="line">        <span class="string">f&quot;&lt;span style=&#x27;font-size:16pt&#x27;&gt;<span class="subst">&#123;book_name&#125;</span>&lt;/span&gt;&quot;</span></span><br><span class="line">    )</span><br><span class="line"><span class="comment"># 设置自动换行</span></span><br><span class="line">book_name_label.setWordWrap(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>一些问题：如果文字是纯数字将不起作用。</p>
<h1 id="笔记三-滚动布局"><a href="#笔记三-滚动布局" class="headerlink" title="笔记三 滚动布局"></a>笔记三 滚动布局</h1><p>设置滚动布局：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">area = QScrollArea()</span><br><span class="line">widget_area = QWidget()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 注1</span></span><br><span class="line">area.setWidgetResizable(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">layout_area = QVBoxLayout(widget_area)</span><br><span class="line">layout_area.addStretch(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">area.setWidget(widget_area)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注1：处理坑，子控件大小和area不一致，设置area的属性。</p>
<h1 id="笔记四-分割线"><a href="#笔记四-分割线" class="headerlink" title="笔记四 分割线"></a>笔记四 分割线</h1><ol>
<li>分割线</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置一个分割线</span></span><br><span class="line">frame = QFrame()</span><br><span class="line">frame.setFrameShape(QFrame.Shape.HLine)  <span class="comment"># 设置为水平分割线</span></span><br><span class="line">frame.setLineWidth(<span class="number">1</span>)  <span class="comment"># 设置分割线宽度为1像素</span></span><br><span class="line">layout_area.addWidget(frame)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>分割用的矩形</li>
</ol>
<p>可以用来填充界面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建QFrame</span></span><br><span class="line">frame = QtWidgets.QFrame(<span class="variable language_">self</span>)</span><br><span class="line">frame.setFrameShape(QtWidgets.QFrame.StyledPanel)</span><br><span class="line">frame.setFrameShadow(QtWidgets.QFrame.Raised)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置尺寸策略为自动扩充</span></span><br><span class="line">sizePolicy = QtWidgets.QSizePolicy(</span><br><span class="line">    QtWidgets.QSizePolicy.Expanding, QtWidgets.QSizePolicy.Expanding</span><br><span class="line">)</span><br><span class="line">frame.setSizePolicy(sizePolicy)</span><br><span class="line">frame.setFrameShape(QtWidgets.QFrame.NoFrame)</span><br><span class="line"><span class="comment"># 设置QFrame背景为透明</span></span><br><span class="line">frame.setAttribute(QtCore.Qt.WA_TranslucentBackground)</span><br><span class="line"></span><br><span class="line">layout.addWidget(frame)</span><br></pre></td></tr></table></figure>


<h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><p>本来以为这个系列可以出很多期，结果现在的项目很快也就写完了，PySide6还有很多不完善的地方，我又开始纠结犹豫，和《纸间书摘》的开发者聊了之后他推荐给我一套新的技术栈，这周终于有时间看了一下，基于compose的安卓开发比以往容易了许多，kotlin+compose终于变得优雅起来了，相比之下感觉比flutter更让人心动？</p>
<p>总之开始学习起来了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/23589.html" data-id="cm5v6ld4s000x3s7m5fcx5tv2" data-title="PySide6开发日记（二）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PySide6/" rel="tag">PySide6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%A8%E8%AE%B0/" rel="tag">周记</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-PySide6开发日记（一）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/52319.html" class="article-date">
  <time class="dt-published" datetime="2024-11-11T14:07:49.000Z" itemprop="datePublished">2024-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/52319.html">PySide6开发日记（一）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="PySide6开发日记（一）"><a href="#PySide6开发日记（一）" class="headerlink" title="PySide6开发日记（一）"></a>PySide6开发日记（一）</h1><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>　　今年早些时候，为国产读书书摘记录软件做了一个api导入程序，第一版发布后有两个用户，但后面就没关注这个程序了，半个月之前其中一位用户向我询问能否为程序增加一些新的功能，就此我开始程序v0.2版本的开发。</p>
<p>　　程序名字是《merpyzf_pyside6》，顾名思义，技术栈是PySide6，于是继续一边学习一边写新功能，目前来看新版本开发会持续几周，索性就当作周记，每周记录自己的学习心得。</p>
<h1 id="笔记一：程序的顶部状态栏"><a href="#笔记一：程序的顶部状态栏" class="headerlink" title="笔记一：程序的顶部状态栏"></a>笔记一：程序的顶部状态栏</h1><h2 id="1-隐藏系统状态栏"><a href="#1-隐藏系统状态栏" class="headerlink" title="1. 隐藏系统状态栏"></a>1. 隐藏系统状态栏</h2><p>　　虽然暂时没有打算做Mac OS和Linux版本，但是Windows的系统UI已经让我大为不爽了，于是开始研究无边框模式，搜到了许多教程，但实测下来能用的确实都有各种各样的问题。</p>
<p>　　最后连带AI和各种资料总算是写出了我需要的代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    window = QMainWindow()</span><br><span class="line">    window.setWindowTitle(<span class="string">&#x27;隐藏系统状态栏&#x27;</span>)</span><br><span class="line">    window.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    layout = QVBoxLayout(window)</span><br><span class="line">    label = QLabel(<span class="string">&#x27;这是一个无状态栏示例&#x27;</span>)</span><br><span class="line">    layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 隐藏状态栏</span></span><br><span class="line">    window.setWindowFlag(Qt.WindowType.FramelessWindowHint)</span><br><span class="line"></span><br><span class="line">    window.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure>

<p>　　核心部分就是<code>setWindowFlag</code>​。起初我在网络上查找相关代码时看到了许多教程，但是当我尝试导入Qt时，显示在QtCore、QtGui类下都存在Qt库，便一直没能成功，最后索性使用<code>*</code>​进行导入。</p>
<h2 id="2-设置最大化，最小化以及关闭程序按钮，并放置在合适的位置"><a href="#2-设置最大化，最小化以及关闭程序按钮，并放置在合适的位置" class="headerlink" title="2. 设置最大化，最小化以及关闭程序按钮，并放置在合适的位置"></a>2. 设置最大化，最小化以及关闭程序按钮，并放置在合适的位置</h2><p>　　三个按钮很好搞定，QPushbutton+icon属性就搞定了。</p>
<p>　　我想到可以用菜单栏用于放置它们，PySide6中当然也有相关的功能，QToolBar组件。</p>
<p>　　于是第一版程序很快就写出来了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">window_max</span>(): ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    window = QMainWindow()</span><br><span class="line">    window.setWindowTitle(<span class="string">&quot;隐藏系统状态栏&quot;</span>)</span><br><span class="line">    window.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    widget_center = QWidget()</span><br><span class="line">    layout = QVBoxLayout(widget_center)</span><br><span class="line">    label = QLabel(<span class="string">&quot;这是一个无状态栏示例&quot;</span>)</span><br><span class="line">    layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 隐藏状态栏</span></span><br><span class="line">    window.setWindowFlag(Qt.WindowType.FramelessWindowHint)</span><br><span class="line"></span><br><span class="line">    toolbar = QToolBar()</span><br><span class="line">    <span class="comment"># 设置工具栏不可移动</span></span><br><span class="line">    toolbar.setMovable(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充工具栏左侧，让三个按钮被放置到最右侧</span></span><br><span class="line">    widget_fill = QWidget()</span><br><span class="line">    toolbar.addWidget(widget_fill)</span><br><span class="line">    layout_toolbar = QHBoxLayout(widget_fill)</span><br><span class="line">    layout_toolbar.addStretch()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置三个按钮，并将其设置为图片形式</span></span><br><span class="line">    btn_min = QPushButton(icon=QIcon(<span class="string">&quot;assets/min.svg&quot;</span>))</span><br><span class="line">    btn_max = QPushButton(icon=QIcon(<span class="string">&quot;assets/icon-max.svg&quot;</span>))</span><br><span class="line">    btn_close = QPushButton(icon=QIcon(<span class="string">&quot;assets/close.svg&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 去除按钮边框</span></span><br><span class="line">    btn_min.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_max.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_close.setFlat(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将按钮放置在toolbar上</span></span><br><span class="line">    toolbar.addWidget(btn_min)</span><br><span class="line">    toolbar.addWidget(btn_max)</span><br><span class="line">    toolbar.addWidget(btn_close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 为按钮增加功能，其中最大化按钮需要额外函数进行修饰</span></span><br><span class="line">    btn_min.clicked.connect(window.showMinimized)</span><br><span class="line">    btn_max.clicked.connect(<span class="keyword">lambda</span>: window_max())</span><br><span class="line">    btn_close.clicked.connect(window.close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将toolbar放置到window上</span></span><br><span class="line">    window.addToolBar(toolbar)</span><br><span class="line">    window.setCentralWidget(widget_center)</span><br><span class="line">    window.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>　　运行效果：</p>
<p>​<img src="https://youyupicgo.s3.bitiful.net/2024/11/40363653485429c1f64be0ad72d3b59b.png" alt="image">​</p>
<h2 id="3-窗口拖动"><a href="#3-窗口拖动" class="headerlink" title="3 窗口拖动"></a>3 窗口拖动</h2><p>　　隐藏窗口一时爽，隐藏以后动不了，当我发现窗口开始变得不能移动后人都傻掉了，只好开始寻找方法。</p>
<p>　　处理方法也不难，当我发现PySide6中存在三个函数（<code>mousePressEvent</code>​、<code>mouseMoveEvent</code>​、<code>mouseReleaseEvent</code>​）后，这件事就变得简单起来。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QMainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self, event</span>):  <span class="comment"># 当鼠标按钮被按下时调用此函数</span></span><br><span class="line">        <span class="keyword">if</span> event.button() == Qt.LeftButton:</span><br><span class="line">            <span class="variable language_">self</span>._move_drag = <span class="literal">True</span></span><br><span class="line">            <span class="variable language_">self</span>.cursor_win_pos = event.globalPosition() - <span class="variable language_">self</span>.pos()</span><br><span class="line">            event.accept()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseMoveEvent</span>(<span class="params">self, event</span>):  <span class="comment"># 当鼠标移动时调用此函数</span></span><br><span class="line">        <span class="comment"># 如果鼠标左键被按下并且可以拖动窗口</span></span><br><span class="line">        <span class="keyword">if</span> Qt.LeftButton <span class="keyword">and</span> <span class="variable language_">self</span>._move_drag:</span><br><span class="line">            m_Point = (</span><br><span class="line">                event.globalPosition() - <span class="variable language_">self</span>.cursor_win_pos</span><br><span class="line">            )  <span class="comment"># 计算新的鼠标全局坐标与初始位置的差值</span></span><br><span class="line">            <span class="variable language_">self</span>.move(<span class="built_in">int</span>(m_Point.x()), <span class="built_in">int</span>(m_Point.y()))  <span class="comment"># 根据差值移动窗口到新的位置</span></span><br><span class="line">            event.accept()  <span class="comment"># 接受事件，不再传递</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseReleaseEvent</span>(<span class="params">self, event</span>):  <span class="comment"># 鼠标按键释放时,取消移动</span></span><br><span class="line">        <span class="variable language_">self</span>._move_drag = <span class="literal">False</span></span><br><span class="line">        event.accept()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">window_max</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.isMaximized():</span><br><span class="line">            <span class="variable language_">self</span>.showNormal()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.showMaximized()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    window = QMainWindow()</span><br><span class="line">    window.setWindowTitle(<span class="string">&quot;隐藏系统状态栏&quot;</span>)</span><br><span class="line">    window.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    window._move_drag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    widget_center = QWidget()</span><br><span class="line">    layout = QVBoxLayout(widget_center)</span><br><span class="line">    label = QLabel(<span class="string">&quot;这是一个无状态栏示例&quot;</span>)</span><br><span class="line">    layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 隐藏状态栏</span></span><br><span class="line">    window.setWindowFlag(Qt.WindowType.FramelessWindowHint)</span><br><span class="line"></span><br><span class="line">    toolbar = QToolBar()</span><br><span class="line">    <span class="comment"># 设置工具栏不可移动</span></span><br><span class="line">    toolbar.setMovable(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充工具栏左侧，让三个按钮被放置到最右侧</span></span><br><span class="line">    widget_fill = QWidget()</span><br><span class="line">    toolbar.addWidget(widget_fill)</span><br><span class="line">    layout_toolbar = QHBoxLayout(widget_fill)</span><br><span class="line">    layout_toolbar.addStretch()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置三个按钮，并将其设置为图片形式</span></span><br><span class="line">    btn_min = QPushButton(icon=QIcon(<span class="string">&quot;assets/min.svg&quot;</span>))</span><br><span class="line">    btn_max = QPushButton(icon=QIcon(<span class="string">&quot;assets/icon-max.svg&quot;</span>))</span><br><span class="line">    btn_close = QPushButton(icon=QIcon(<span class="string">&quot;assets/close.svg&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 去除边框</span></span><br><span class="line">    btn_min.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_max.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_close.setFlat(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将按钮放置在toolbar上</span></span><br><span class="line">    toolbar.addWidget(btn_min)</span><br><span class="line">    toolbar.addWidget(btn_max)</span><br><span class="line">    toolbar.addWidget(btn_close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 为按钮增加功能，其中最大化按钮需要额外函数进行修饰</span></span><br><span class="line">    btn_min.clicked.connect(window.showMinimized)</span><br><span class="line">    btn_max.clicked.connect(<span class="keyword">lambda</span>: window.window_max())</span><br><span class="line">    btn_close.clicked.connect(window.close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将toolbar放置到window上</span></span><br><span class="line">    window.addToolBar(toolbar)</span><br><span class="line">    window.setCentralWidget(widget_center)</span><br><span class="line"></span><br><span class="line">    window.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>　　不过今天在写博客时，我发现了一个新的办法，不需要重写这三个方法，看起来更加的简洁实用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">QMainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">window_max</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.isMaximized():</span><br><span class="line">            <span class="variable language_">self</span>.showNormal()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.showMaximized()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move_title_bar</span>(<span class="params">self, event</span>):</span><br><span class="line">        <span class="variable language_">self</span>.windowHandle().startSystemMove()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    app = QApplication([])</span><br><span class="line"></span><br><span class="line">    window = QMainWindow()</span><br><span class="line">    window.setWindowTitle(<span class="string">&quot;隐藏系统状态栏&quot;</span>)</span><br><span class="line">    window.resize(<span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">    window._move_drag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    widget_center = QWidget()</span><br><span class="line">    layout = QVBoxLayout(widget_center)</span><br><span class="line">    label = QLabel(<span class="string">&quot;这是一个无状态栏示例&quot;</span>)</span><br><span class="line">    layout.addWidget(label)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 隐藏状态栏</span></span><br><span class="line">    window.setWindowFlag(Qt.WindowType.FramelessWindowHint)</span><br><span class="line"></span><br><span class="line">    toolbar = QToolBar()</span><br><span class="line">    <span class="comment"># 设置工具栏不可移动</span></span><br><span class="line">    toolbar.setMovable(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 填充工具栏左侧，让三个按钮被放置到最右侧</span></span><br><span class="line">    widget_fill = QWidget()</span><br><span class="line">    toolbar.addWidget(widget_fill)</span><br><span class="line">    layout_toolbar = QHBoxLayout(widget_fill)</span><br><span class="line">    layout_toolbar.addStretch()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 设置三个按钮，并将其设置为图片形式</span></span><br><span class="line">    btn_min = QPushButton(icon=QIcon(<span class="string">&quot;assets/min.svg&quot;</span>))</span><br><span class="line">    btn_max = QPushButton(icon=QIcon(<span class="string">&quot;assets/icon-max.svg&quot;</span>))</span><br><span class="line">    btn_close = QPushButton(icon=QIcon(<span class="string">&quot;assets/close.svg&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 去除边框</span></span><br><span class="line">    btn_min.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_max.setFlat(<span class="literal">True</span>)</span><br><span class="line">    btn_close.setFlat(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将按钮放置在toolbar上</span></span><br><span class="line">    toolbar.addWidget(btn_min)</span><br><span class="line">    toolbar.addWidget(btn_max)</span><br><span class="line">    toolbar.addWidget(btn_close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 为按钮增加功能，其中最大化按钮需要额外函数进行修饰</span></span><br><span class="line">    btn_min.clicked.connect(window.showMinimized)</span><br><span class="line">    btn_max.clicked.connect(<span class="keyword">lambda</span>: window.window_max())</span><br><span class="line">    btn_close.clicked.connect(window.close)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将toolbar放置到window上</span></span><br><span class="line">    window.addToolBar(toolbar)</span><br><span class="line">    window.setCentralWidget(widget_center)</span><br><span class="line"></span><br><span class="line">    toolbar.mouseMoveEvent = window.move_title_bar</span><br><span class="line"></span><br><span class="line">    window.show()</span><br><span class="line">    app.<span class="built_in">exec</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>　　其实核心部分只有以下两点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">move_title_bar</span>(<span class="params">self, event</span>):</span><br><span class="line">    <span class="variable language_">self</span>.windowHandle().startSystemMove()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">toolbar.mouseMoveEvent = window.move_title_bar</span><br></pre></td></tr></table></figure>

<p>　　不仅实现了移动，而且只有光标在toolbar上时才会执行，更加符合使用习惯了吧哈哈哈。</p>
<hr>
<h1 id="未完事项"><a href="#未完事项" class="headerlink" title="未完事项"></a>未完事项</h1><ul>
<li><input disabled="" type="checkbox"> 实现拖动边框进行窗口的大小设置；</li>
</ul>
<p>　　‍</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/52319.html" data-id="cm5v6ld4r000w3s7m3uld9and" data-title="PySide6开发日记（一）" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PySide6/" rel="tag">PySide6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%A8%E8%AE%B0/" rel="tag">周记</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-新电脑：因为在此电脑上禁止运行脚本-问题的解决。" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/59813.html" class="article-date">
  <time class="dt-published" datetime="2024-09-05T03:34:08.000Z" itemprop="datePublished">2024-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/59813.html">新电脑：因为在此电脑上禁止运行脚本 问题的解决</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="问题的发生"><a href="#问题的发生" class="headerlink" title="问题的发生"></a>问题的发生</h1><p>问题发生于使用<code>.ps1</code>下载 Windows 镜像时，总是会弹出的错误：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">无法加载文件 C:\Users\youyu\Download\Fido.ps1，因为在此系统上禁止运行脚本。有关详细信息，请参阅 https:/go.microsoft.com/fwlink/?LinkID=<span class="number">135170</span> 中的 about_Execution_Policies。</span><br><span class="line"></span><br><span class="line">+ CategoryInfo : SecurityError: (:) []，ParentContainsErrorRecordException</span><br><span class="line"></span><br><span class="line">+ FullyQualifiedErrorId : UnauthorizedAccess</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="问题出现的原因"><a href="#问题出现的原因" class="headerlink" title="问题出现的原因"></a>问题出现的原因</h1><p>问题描述也很清楚，于是就上网搜一下解决方案。原因在于：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Restricted 执行策略不允许任何脚本运行。  </span><br><span class="line"></span><br><span class="line">AllSigned 和 RemoteSigned 执行策略可防止 Windows PowerShell 运行没有数字签名的脚本。</span><br><span class="line"></span><br><span class="line"> 本主题说明如何运行所选未签名脚本（即使在执行策略为 RemoteSigned 的情况下），还说明如何对  脚本进行签名以便您自己使用。</span><br><span class="line"></span><br><span class="line">有关 Windows PowerShell 执行策略的详细信息，请参阅 about_Execution_Policy。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>进一步确保相关设置是否像问题描述所说的一样可以输入<code>get-executionpolicy</code></p>
<p>如果运行结果为：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">get-executionpolicy</span><br><span class="line">RemoteSigned</span><br></pre></td></tr></table></figure>

<p>就不是相关原因造成的，可以关闭文章找其他办法了。</p>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>如果不是就打开 PowerShell（管理员身份），输入：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>-executionpolicy remotesigned</span><br></pre></td></tr></table></figure>

<p>在继续选项中输入 Y。</p>
<p>Finished！</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog-youyu.fun/posts/59813.html" data-id="cm5v6ld51001y3s7mgab49mzw" data-title="新电脑：因为在此电脑上禁止运行脚本 问题的解决" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" rel="tag">命令行</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BD%95%E4%B8%8D%E7%9C%8B%E4%B8%96%E7%95%8C/">何不看世界</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8E%A2%E7%B4%A2%E4%BA%92%E8%81%94%E7%BD%91/">探索互联网</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E8%89%BA%E7%9A%84%E9%A3%8E/">文艺的风</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%BD%E6%B1%82%E6%9C%AC%E6%88%91/">追求本我</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AHK/" rel="tag">AHK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PySide6/" rel="tag">PySide6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/" rel="tag">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%A8%E8%AE%B0/" rel="tag">周记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" rel="tag">命令行</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A5%87%E6%80%9D%E5%A6%99%E6%83%B3/" rel="tag">奇思妙想</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A5%BD%E7%8E%A9%E7%9A%84-Linux/" rel="tag">好玩的 Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%AF%B4/" rel="tag">小说</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/" rel="tag">年终总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag">技术</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0/" rel="tag">折腾日记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%A3%E6%96%87/" rel="tag">散文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%A1%E5%9B%AD%E9%A3%8E%E5%85%89/" rel="tag">校园风光</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9C%8B%E4%B8%96%E7%95%8C/" rel="tag">看世界</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6/" rel="tag">软件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" rel="tag">软件推荐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AE%E9%A2%98%E5%B0%8F%E8%AE%B0/" rel="tag">问题小记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9F%B3%E4%B9%90/" rel="tag">音乐</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AHK/" style="font-size: 12px;">AHK</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/PySide6/" style="font-size: 12px;">PySide6</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/Windows/" style="font-size: 14px;">Windows</a> <a href="/tags/python/" style="font-size: 14px;">python</a> <a href="/tags/%E5%91%A8%E8%AE%B0/" style="font-size: 14px;">周记</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/" style="font-size: 12px;">命令行</a> <a href="/tags/%E5%A5%87%E6%80%9D%E5%A6%99%E6%83%B3/" style="font-size: 16px;">奇思妙想</a> <a href="/tags/%E5%A5%BD%E7%8E%A9%E7%9A%84-Linux/" style="font-size: 14px;">好玩的 Linux</a> <a href="/tags/%E5%B0%8F%E8%AF%B4/" style="font-size: 14px;">小说</a> <a href="/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/" style="font-size: 10px;">年终总结</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size: 20px;">技术</a> <a href="/tags/%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0/" style="font-size: 10px;">折腾日记</a> <a href="/tags/%E6%95%A3%E6%96%87/" style="font-size: 10px;">散文</a> <a href="/tags/%E6%A0%A1%E5%9B%AD%E9%A3%8E%E5%85%89/" style="font-size: 10px;">校园风光</a> <a href="/tags/%E7%9C%8B%E4%B8%96%E7%95%8C/" style="font-size: 16px;">看世界</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 10px;">翻译</a> <a href="/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 10px;">读书</a> <a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 10px;">软件</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/" style="font-size: 10px;">软件推荐</a> <a href="/tags/%E9%97%AE%E9%A2%98%E5%B0%8F%E8%AE%B0/" style="font-size: 10px;">问题小记</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 18px;">随笔</a> <a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 10px;">音乐</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/26096.html">怀旧</a>
          </li>
        
          <li>
            <a href="/posts/38883.html">2024 年度总结</a>
          </li>
        
          <li>
            <a href="/posts/40903.html">国际化开发的经验</a>
          </li>
        
          <li>
            <a href="/posts/60445.html">节气之歌-大雪</a>
          </li>
        
          <li>
            <a href="/posts/22044.html">近况和未来一段时间的展望</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 公子语<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>